<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Search
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Search</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-searchbar [(ngModel)]="searchQuery" showCancelButton="focus" placeholder="Search GIPHY" (ionChange)="search($event)" (ionCancel)="clearSearch()" animated></ion-searchbar>

  <!-- <ion-row>
    <ion-col size="6" *ngFor="let giphy of giphyService.giphyList">
      <ion-img [src]="giphy.images.downsized.url"></ion-img>
    </ion-col>
  </ion-row> -->

  <div *ngIf="isLoaded" class="collection ion-padding">
    <!-- <div class="collection-item" text-center *ngFor="let giphy of giphyService.giphyList"> -->
      <!-- <ion-button size="small" color="light"> -->
      <!-- <ion-icon class="collection-fav-button" name="add-circle" slot="start" size="large"></ion-icon> -->
      <!-- </ion-button> -->
      <!-- <div> -->
        <!-- <img class="collection-item-img" [src]="giphy.images.downsized.url"/> -->
      <!-- </div> -->
    <!-- </div> -->

    <ion-grid text-center>
      <ion-row *ngFor="let giphy of iteration; let i = index">
        <!-- <ion-icon  name="add-circle"  size="large"></ion-icon> -->
          <ion-col class="collection-item" size="6">
            <ng-container *ngIf="giphyService.giphyList[2 * (i+1) - 2] as currentGiphy">
            <ion-button class="collection-fav-button" size="default" color="success" (click)="saveGiphy(currentGiphy.id)">SAVE</ion-button>
            
            <!-- <ion-item button class="collection-fav-button" color="dark" >
              <ion-icon name="add-circle" size="large"></ion-icon>
            </ion-item> -->
            
            <!-- <ion-icon class="collection-fav-button" name="add-circle" size="large"></ion-icon> -->

            <div>
              <img class="collection-item-img" [src]="currentGiphy.images.downsized.url"/>
            </div>
            </ng-container>
          </ion-col>
        <ion-col class="collection-item" size="6">
          <ng-container *ngIf="giphyService.giphyList[2 * (i+1) - 1] as currentGiphy">
            <ion-button class="collection-fav-button" size="default" color="success" (click)="saveGiphy(currentGiphy.id)">SAVE</ion-button>
            <div>
              <img class="collection-item-img" [src]="currentGiphy.images.downsized.url"/>
            </div>
          </ng-container>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>

  <ion-infinite-scroll threshold="100px" (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>
